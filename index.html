<!DOCTYPE html>
<html ng-app="lottoryApp">
<head>
	<title></title>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
	<meta name="renderer" content="webkit">
	<meta http-equiv="Cache-Control" content="no-siteapp" />
	<link rel="stylesheet" type="text/css" href="public/css/amazeui.min.css">
	<link rel="stylesheet" type="text/css" href="public/css/index.css">
	<style type="text/css">
        .ng-cloak {
            display: none;
        }
    </style>
</head>
<body ng-cloak ng-controller="mainController">
	<div class='title'>
		<div style="float:left;margin:7px 0 0 10px">
			<a href="javascript:void(0)" data-am-offcanvas="{target: '#menubar'}">
				<span class="am-icon-list"></span>
			</a>
		</div>
		<div class="menupanel">
			<a href="#" ng-click="minimize()" title="minimize">
				<span class="am-icon-minus"></span>
			</a>
			<a href="#" ng-click="close()" title="close">
				<span class="am-icon-close"></span>
			</a>
		</div>
	</div>
	<div class="am-container">
		<div class="am-g">
			<div class="am-u-lg-12">
				<h1 class="center"> <strong show-award-class="current">一等奖</strong>
				</h1>
				<hr/>
			</div>
			<div class="am-u-lg-6">
				<p>
					奖品:
					<span ng-bind="awards[current-1][turn].name"></span>
					<a href="javascript:void(0)" ng-click="nextTurn()">下一轮奖品</a>
				</p>
				<p>
					<img ng-src="{{awards[current-1][turn].path}}" style="max-height:350px" class="am-img-thumbnail am-radius">
				</p>
			</div>
			<div class="am-u-lg-6 right">
				<h2 class="center lottory-name"> <strong show-name="isbegin" ng-model="winner">XXX</strong>
				</h2>
			</div>
		</div>
		<div class="am-g">
			<div class="am-u-lg-12">
				<p class="center">
					当前共有
					<span ng-bind="list.length">0</span>
					人参与抽奖。
					<button type="button" class="am-btn am-btn-danger am-btn-xs" ng-click="begin()" 
                        ng-init="text='开始抽奖'"
                        ng-bind="text"></button>
				</p>
			</div>
		</div>
		<div class="am-g">
			<div class="am-u-lg-12 awardsbox">
				<div class="winners">
					<h3>
						<span show-award-class="current"></span>
						获奖人名单：
					</h3>
					<div class="winner-box" ng-cloak ng-repeat="name in winners">
						<span class="am-badge am-badge-primary am-text-xl" ng-bind="name"></span>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div id="menubar" class="am-offcanvas">
		<div class="amz-sidebar am-offcanvas-bar ">
			<form class="am-form">
				<fieldset>
					<legend>
						<small>导入抽奖名单</small>
						<a href="#" ng-click="openconfig()">
							<small> <i class="am-icon-cog"></i>
							</small>
						</a>
					</legend>
					<div class="am-form-group">
						<input id="fileDialog" type="file" style="font-size:12px"/>
						<p class="am-form-help">请选择抽奖人名单</p>
						<button type="button" class="am-btn am-btn-danger am-btn-xs" ng-click="import()">导入</button>
					</div>
					<legend>
						<small>选择抽奖轮次</small>
					</legend>
					<div class="am-form-group">
						<input id="award0" type="radio" class="ainput hidden" ng-model="current" value="1" ng-click="change()"/>
						<label for="award0" class="alabel">特等奖</label>
						<input id="award1" type="radio" class="ainput hidden" ng-model="current" value="2" ng-click="turn=0;winners=[]"/>
						<label for="award1" class="alabel">一等奖</label>
						<input id="award2" type="radio" class="ainput hidden" ng-model="current" value="3" ng-click="turn=0;winners=[]"/>
						<label for="award2" class="alabel">二等奖</label>
						<input id="award3" type="radio" class="ainput hidden" ng-model="current" value="4" ng-click="turn=0;winners=[]"/>
						<label for="award3" class="alabel">三等奖</label>
						<input id="award4" type="radio" class="ainput hidden" ng-model="current" value="5" ng-click="turn=0;winners=[]"/>
						<label for="award4" class="alabel">四等奖</label>
						<input id="award5" type="radio" class="ainput hidden" ng-model="current" value="6" ng-click="turn=0;winners=[]"/>
						<label for="award5" class="alabel">五等奖</label>
						<input id="award6" type="radio" class="ainput hidden" ng-model="current" value="7" ng-click="turn=0;winners=[]"/>
						<label for="award6" class="alabel">六等奖</label>
						<input id="award7" type="radio" class="ainput hidden" ng-model="current" value="8" ng-click="turn=0;winners=[]"/>
						<label for="award7" class="alabel">七等奖</label>
					</div>
				</fieldset>
			</form>
		</div>
	</div>

	<div class="am-modal am-modal-alert" tabindex="-1" id="messagebox">
		<div class="am-modal-dialog">
			<div class="am-modal-hd">提示</div>
			<div class="am-modal-bd" ng-bind="message"></div>
			<div class="am-modal-footer">
				<span class="am-modal-btn">确定</span>
			</div>
		</div>
	</div>
	<script type="text/javascript" src="public/js/jquery.min.js"></script>
	<script type="text/javascript" src="public/js/amazeui.min.js"></script>
	<script type="text/javascript" src="public/js/angular.min.js"></script>
	<script type="text/javascript" src="apps/js/app.js"></script>
	<script type="text/javascript" src="apps/js/service.js"></script>
	<script type="text/javascript" src="apps/js/controller.js"></script>
</body>
</html>